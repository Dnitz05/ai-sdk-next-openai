/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* === INICI Estils Personalitzats per a Visor DOCX === */

/* --- Ajustos Mida Font (Word-like) --- */
.prose { font-size: 14px; line-height: 1.7; max-width: none; }
.prose h1 { font-size: 1.5em; font-weight: 700; margin-top: 0; margin-bottom: 1em; line-height: 1.3; }
.prose h2 { font-size: 1.3em; font-weight: 600; margin-top: 2em; margin-bottom: 0.8em; line-height: 1.3; }
.prose h3 { font-size: 1.15em; font-weight: 600; margin-top: 1.8em; margin-bottom: 0.6em; line-height: 1.3; }
.prose h4 { font-size: 1.05em; font-weight: 600; margin-top: 1.6em; margin-bottom: 0.5em; line-height: 1.3; }
.prose p { margin-top: 0.8em; margin-bottom: 0.8em; }

/* --- Estils per a Taules --- */
.prose table { border-collapse: collapse; width: 100%; margin-top: 1.25em; margin-bottom: 1.25em; max-width: 100%; display: block; overflow-x: auto; }
.prose th, .prose td { border: 2px dotted #d1d5db; padding: 0.25em 0.3em; vertical-align: middle; overflow-wrap: break-word; }
.prose th { text-align: left; background-color: #f9fafb; font-weight: 600; }
.prose td > p { margin-top: 0; margin-bottom: 0; line-height: 1.3; }
/* === FINAL Estils Taules === */

/* Estil per als placeholders vinculats a Excel (groc) */
.linked-placeholder { background-color: #fff2a8; border: 1px dashed #e6bf00; padding: 0.05em 0.1em; border-radius: 3px; cursor: default; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; transition: background-color 0.2s ease; display: inline; line-height: inherit; font-size: inherit; color: inherit; }
.linked-placeholder:hover { background-color: #ffe97a; border-color: #cca300; }

/* Estil per als PARÀGRAFS marcats amb instrucció IA (blau cel) */
p.ai-prompt-target { background-color: #e0f2fe; border-left: 3px solid #3b82f6; padding-left: 0.5em; border-radius: 3px; cursor: pointer; }
p.ai-prompt-target:hover { background-color: #bae6fd; }

/* Hover i preselecció per instruccions IA */
/* Només hover visual via CSS quan la IA està activa */
.ia-mode-actiu p:hover {
  background-color: #e0f2fe !important;
  cursor: pointer !important;
  transition: background-color 0.15s;
}
p.ia-selected {
  background-color: #bae6fd !important;
  border-left: 3px solid #0ea5e9 !important;
  padding-left: 0.5em !important;
}

/* Botons IA al marge esquerre, alineats verticalment i sense desplaçar el text */
p.ai-prompt-target, p.ia-selected {
  position: relative;
  padding-left: 2.5em !important;
}
p.ia-hover {
  position: relative;
  padding-left: 0 !important;
}
.ia-label {
  position: absolute;
  left: 0.2em;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  gap: 0.2em;
  z-index: 2;
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
  height: 1.5em;
}
.ia-label button {
  font-size: 0.9em;
  padding: 0 0.2em;
  border: none;
  background: none;
  cursor: pointer;
  line-height: 1;
  height: 1.5em;
  display: flex;
  align-items: center;
  justify-content: center;
}
.ia-label button.ia-edit-btn {
  background: #dbeafe;
  color: #2563eb;
  border-radius: 2px;
  margin-right: 0.1em;
}
.ia-label button.ia-delete-btn {
  background: #fee2e2;
  color: #b91c1c;
  border-radius: 2px;
}


/* === FINAL Estils Personalitzats === */


/* === INICI Estils Impressió === */
@media print {
  .web-header, .web-errors, aside { display: none !important; }
  #print-header, #print-footer { display: block; }
  #print-header { position: fixed; top: 0; left: 0; right: 0; padding: 0.5cm 1.5cm; border-bottom: 1px solid #ccc; background-color: white; font-size: 9pt; }
  #print-footer { position: fixed; bottom: 0; left: 0; right: 0; padding: 0.5cm 1.5cm; border-top: 1px solid #ccc; background-color: white; font-size: 9pt; }
  body { margin-top: 2cm; margin-bottom: 2cm; background-color: white !important; }
  main { padding: 0 !important; background-color: transparent !important; }
  .print-content { box-shadow: none !important; border: none !important; margin: 0 !important; padding: 0 !important; max-width: none !important; border-radius: 0 !important; background-color: transparent !important; width: 100% !important; }
  .prose { font-size: 10pt; line-height: 1.5; color: black !important; max-width: none !important; }
  .prose h1 { font-size: 13pt; } .prose h2 { font-size: 11pt; }
  .prose table { display: table !important; overflow-x: visible !important; width: auto !important; max-width: 100% !important; border: 1px solid #ccc !important; }
  .prose th, .prose td { border: 1px solid #ccc !important; padding: 0.25em 0.4em !important; vertical-align: middle !important; }
  .prose th { background-color: #eee !important; }
  .linked-placeholder, p.ai-prompt-target { background-color: transparent !important; border: none !important; padding: 0 !important; user-select: text !important; cursor: default !important; color: inherit !important; }
  p.ai-prompt-target { border-left: none !important; padding-left: 0 !important; }
  @page { margin: 1.5cm; }
}
/* === FINAL Estils Impressió === */